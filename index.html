<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="format-detection" content="telephone=no">
<title></title>
<link rel="stylesheet" href="css/base.css">
<link rel="stylesheet" href="css/style.css">
</head>
<body>
	<ul id="card"></ul>
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript">
var total = 10;    //カードの枚数
var isFirst = true;    //1枚目か判定
var card1 = "";    //array_cardsのindex（1枚目）
var card2 = "";    //array_cardsのindex（2枚目）
var array_cards = [];    //カードに表示する数値を格納する配列
//カードに表示する数値を生成
//array_cards = [1,1,2,2,3,3,4,4,5,5]となる）
for(i=1; i <= total/2; i++) {
  array_cards.push(i,i);
}
//array_cards配列の数値をランダムに並び替える
array_cards.sort(function() {
  return Math.random() - Math.random();
});
//ulに空のli要素を追加
for(i=0; i < total; i++) {
  $("#card").append("<li></li>");  
}
//li要素をクリックした際の処理
$("#card li").on("click",function(){
  //1枚目の場合は、全li要素のテキストを空にする
  if(isFirst){
    $("#card li").text("");
  }
  //li要素のindexを取得
  var index = $(this).index();
  
  //li要素のindexと同じindexであるarray_cards配列の値を表示する
  $(this).text(array_cards[index]);
    
  if(isFirst){
    //１枚目
    card1 = index;
    isFirst = false;
  }else{
    //2枚目
    card2 = index;
    //1枚目と2枚目の値が同じ場合はli要素の背景色を赤にする
    if(array_cards[card1] === array_cards[card2]){
      $("#card li").eq(card1).css("background-color","red");
      $("#card li").eq(card2).css("background-color","red");
    }
    isFirst = true;    
  }  
});

</script>
</body>
</html>
